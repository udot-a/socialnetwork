{"version":3,"sources":["components/Dialogs/Dialogs.module.css","hoc/withAuthRedirect.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","DialogItem","className","s","dialog","active","id","picture","src","name","Message","message","maxLength30","maxLengthCreator","minLength10","minLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","placeholder","validate","required","Dialogs","messagePage","dialogsElements","dialogsData","map","key","messagesElements","messagesData","el","newMessageBody","dialogs","dialogsItems","messages","values","sendMessage","compose","dispatch","sendMessageCreator"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,yBAAyB,QAAU,2B,uICElPC,EAA0B,SAACC,GAC3B,MAAO,CACHC,OAASD,EAAME,KAAKD,SAIfE,EAAmB,SAACC,GAAc,IACrCC,EADoC,uKAGlC,OAAKC,KAAKC,MAAMN,OACT,kBAACG,EAAcE,KAAKC,OADI,kBAAC,IAAD,CAAUC,GAAI,eAHX,GACVC,IAAML,WAOtC,OADiCM,YAAQX,EAARW,CAAiCL,K,+FCDvDM,EATI,SAACJ,GAChB,OACI,yBAAKK,UAAWC,IAAEC,OAAS,IAAMD,IAAEE,QAC/B,kBAAC,IAAD,CAASP,GAAI,YAAcD,EAAMS,IAAI,yBAAKJ,UAAWC,IAAEI,QAASC,IAAKX,EAAMU,UAA3E,IAAuFV,EAAMY,QCQ1FC,EARC,SAACb,GACb,OACI,yBAAKK,UAAWC,IAAEQ,SAAUd,EAAMc,U,kCCHpCC,EAAcC,YAAiB,IAC/BC,EAAcC,YAAiB,IA8C/BC,EAAsBC,YAAU,CAACC,KAAK,wBAAhBD,EAdL,SAACpB,GACpB,OACI,0BAAMsB,SAAUtB,EAAMuB,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IAAUd,KAAK,iBAAiBe,YAAY,wBACvDC,SAAU,CAACC,IAAUd,EAAaE,MAE7C,6BACI,6CAODa,EA7CC,SAAC9B,GACb,IAAIP,EAAQO,EAAM+B,YAEdC,EACAvC,EAAMwC,YAAYC,KAAI,SAAA3B,GAAM,OACxB,kBAAC,EAAD,CAAYK,KAAML,EAAOK,KAAMH,GAAIF,EAAOE,GAAIC,QAASH,EAAOG,QAASyB,IAAK5B,EAAOE,QAEvF2B,EACA3C,EAAM4C,aAAaH,KAAI,SAAAI,GAAE,OAAK,kBAAC,EAAD,CAASxB,QAASwB,EAAGxB,QAASqB,IAAKG,EAAG7B,QAEnDhB,EAAM8C,eAM3B,OACI,yBAAKlC,UAAWC,IAAEkC,SACd,yBAAKnC,UAAWC,IAAEmC,cACbT,GAGL,yBAAK3B,UAAWC,IAAEoC,UACd,6BAAMN,GACN,kBAACjB,EAAD,CAAqBG,SAZb,SAACqB,GACjB3C,EAAM4C,YAAYD,EAAOJ,gBACzBI,EAAOJ,eAAiB,S,wBCDjBM,sBACX1C,aAjBkB,SAACV,GACnB,MAAO,CACHsC,YAAatC,EAAMsC,gBAIF,SAACe,GACtB,MAAO,CACHF,YAAa,SAACL,GACVO,EAASC,YAAmBR,SASpC3C,IAFWiD,CAGbf","file":"static/js/4.6627c31d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2xRSA\",\"dialogsItems\":\"Dialogs_dialogsItems__2sNe2\",\"dialog\":\"Dialogs_dialog__lk_cw\",\"active\":\"Dialogs_active__2sQhs\",\"messages\":\"Dialogs_messages__1w_Up\",\"message\":\"Dialogs_message__1xIDh\",\"picture\":\"Dialogs_picture__TmmpP\"};","import React from 'react'\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nlet mapStateToPropsRedirect = (state) => {\n    return {\n        isAuth : state.auth.isAuth\n    };\n}\n\nexport const withAuthRedirect = (Component)=> {\n    class RedirectComponent extends React.Component{\n        render(){\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\n            return <Component {...this.props}/>\n        }\n    }\n    let ConnectedRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent)\n    return ConnectedRedirectComponent\n}","import React from 'react'\nimport s from './../Dialogs.module.css'\nimport {NavLink} from \"react-router-dom\";\n\n\n\nconst DialogItem = (props) => {\n    return (\n        <div className={s.dialog + ' ' + s.active}>\n            <NavLink to={'/dialogs/' + props.id}><img className={s.picture} src={props.picture}/> {props.name}</NavLink>\n        </div>\n\n    )\n}\n\nexport default DialogItem;","import React from 'react'\nimport s from './../Dialogs.module.css'\nimport {NavLink} from \"react-router-dom\";\nimport DialogItem from \"./../DialogItem/DialogItem\";\n\n\n\n\n\nconst Message = (props) => {\n    return (\n        <div className={s.message}>{props.message}</div>\n    )\n}\n\n\n\nexport default Message;","import React from 'react'\nimport s from './Dialogs.module.css'\nimport DialogItem from \"./DialogItem/DialogItem\";\nimport Message from \"./Message/Message\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {Textarea} from \"../common/FormControls/FormsControls\";\nimport {maxLengthCreator, minLengthCreator, required} from \"../../utils/validators/validators\";\n\nconst maxLength30 = maxLengthCreator(30)\nconst minLength10 = minLengthCreator(10)\n\nconst Dialogs = (props) => {\n    let state = props.messagePage;\n\n    let dialogsElements =\n        state.dialogsData.map(dialog => (\n            <DialogItem name={dialog.name} id={dialog.id} picture={dialog.picture} key={dialog.id}/>));\n\n    let messagesElements =\n        state.messagesData.map(el => (<Message message={el.message} key={el.id}/>));\n\n    let newMessageBody = state.newMessageBody;\n\n    const addNewMessage=(values)=>{\n        props.sendMessage(values.newMessageBody);\n        values.newMessageBody = '';\n    }\n    return (\n        <div className={s.dialogs}>\n            <div className={s.dialogsItems}>\n                {dialogsElements}\n\n            </div>\n            <div className={s.messages}>\n                <div>{messagesElements}</div>\n                <AddMessageFormRedux onSubmit={addNewMessage}/>\n            </div>\n        </div>\n\n    )\n}\nconst AddMessageForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field component={Textarea} name='newMessageBody' placeholder='Enter your message...'\n                       validate={[required, maxLength30, minLength10]}/>\n            </div>\n            <div>\n                <button >Send</button>\n            </div>\n        </form>\n\n    )\n}\nconst AddMessageFormRedux = reduxForm({form:'dialogAddMessageForm'})(AddMessageForm)\nexport default Dialogs;","import React from 'react'\nimport {sendMessageCreator, updateNewMessageBodyCreator} from \"../../redux/dialogs-reducer\";\nimport Dialogs from \"./Dialogs\";\nimport {connect} from \"react-redux\";\nimport {Redirect} from \"react-router-dom\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\nlet mapStateToProps = (state) => {\n    return {\n        messagePage: state.messagePage\n    };\n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        sendMessage: (newMessageBody) => {\n            dispatch(sendMessageCreator(newMessageBody))\n        }\n    };\n}\n\n// let AuthRedirectComponent = withAuthRedirect(Dialogs)\n// const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withAuthRedirect\n)(Dialogs);"],"sourceRoot":""}